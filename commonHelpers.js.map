{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nconst btnStart = document.querySelector('[data-start]');\nconst myInput = document.querySelector('#datetime-picker');\nconst timerHTML = document.querySelector('.timer');\nlet timerFromUser = 0;\nlet fp = '';\nlet setTimerId = 0;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log('selectedDates[0]- ', selectedDates[0]);\n    if (selectedDates[0] < options.defaultDate) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        color: '#ef4040',\n        messageColor: '#fff',\n        titleColor: '#fff',\n        iconColor: '#fff',\n        position: 'topRight',\n      });\n      btnStart.setAttribute('disabled', 'true');\n    } else {\n      timerFromUser = selectedDates[0];\n      btnStart.removeAttribute('disabled');\n    }\n  },\n};\nfp = flatpickr(myInput, options);\n\nbtnStart.addEventListener('click', () => {\n  myInput.disabled = true;\n  btnStart.setAttribute('disabled', 'true');\n\n  setTimerId = setInterval(() => {\n    onTimer(timerFromUser);\n  }, 1000);\n});\n\nfunction onTimer(futureDate) {\n  const currentData = new Date();\n  let xx = futureDate - currentData;\n  if (xx < 1) {\n    myInput.disabled = false;\n    clearInterval(setTimerId);\n    return;\n  }\n  let day = 1000 * 60 * 60 * 24;\n  let hour = 1000 * 60 * 60;\n  let minutes = 1000 * 60;\n  let diffDay = String(Math.floor(xx / day));\n  let difHour = String(Math.floor((xx % day) / hour));\n  let difMin = String(Math.floor(((xx % day) % hour) / minutes));\n  let difSec = String(Math.floor((((xx % day) % hour) % minutes) / 1000));\n  document.querySelector('[data-days]').textContent = diffDay.padStart(2, '0');\n  document.querySelector('[data-hours]').textContent = difHour.padStart(2, '0');\n  document.querySelector('[data-minutes]').textContent = difMin.padStart(\n    2,\n    '0'\n  );\n  document.querySelector('[data-seconds]').textContent = difSec.padStart(\n    2,\n    '0'\n  );\n}\n"],"names":["btnStart","myInput","timerFromUser","setTimerId","options","selectedDates","iziToast","flatpickr","onTimer","futureDate","xx","day","hour","minutes","diffDay","difHour","difMin","difSec"],"mappings":"+IAQA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAU,SAAS,cAAc,kBAAkB,EACvC,SAAS,cAAc,QAAQ,EACjD,IAAIC,EAAgB,EAEhBC,EAAa,EACjB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAI,qBAAsBA,EAAc,CAAC,CAAC,EAC9CA,EAAc,CAAC,EAAID,EAAQ,aAC7BE,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,MAAO,UACP,aAAc,OACd,WAAY,OACZ,UAAW,OACX,SAAU,UAClB,CAAO,EACDN,EAAS,aAAa,WAAY,MAAM,IAExCE,EAAgBG,EAAc,CAAC,EAC/BL,EAAS,gBAAgB,UAAU,EAEtC,CACH,EACKO,EAAUN,EAASG,CAAO,EAE/BJ,EAAS,iBAAiB,QAAS,IAAM,CACvCC,EAAQ,SAAW,GACnBD,EAAS,aAAa,WAAY,MAAM,EAExCG,EAAa,YAAY,IAAM,CAC7BK,EAAQN,CAAa,CACtB,EAAE,GAAI,CACT,CAAC,EAED,SAASM,EAAQC,EAAY,CAE3B,IAAIC,EAAKD,EADW,IAAI,KAExB,GAAIC,EAAK,EAAG,CACVT,EAAQ,SAAW,GACnB,cAAcE,CAAU,EACxB,MACD,CACD,IAAIQ,EAAM,IAAO,GAAK,GAAK,GACvBC,EAAO,IAAO,GAAK,GACnBC,EAAU,IAAO,GACjBC,EAAU,OAAO,KAAK,MAAMJ,EAAKC,CAAG,CAAC,EACrCI,EAAU,OAAO,KAAK,MAAOL,EAAKC,EAAOC,CAAI,CAAC,EAC9CI,EAAS,OAAO,KAAK,MAAQN,EAAKC,EAAOC,EAAQC,CAAO,CAAC,EACzDI,EAAS,OAAO,KAAK,MAASP,EAAKC,EAAOC,EAAQC,EAAW,GAAI,CAAC,EACtE,SAAS,cAAc,aAAa,EAAE,YAAcC,EAAQ,SAAS,EAAG,GAAG,EAC3E,SAAS,cAAc,cAAc,EAAE,YAAcC,EAAQ,SAAS,EAAG,GAAG,EAC5E,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAAO,SAC5D,EACA,GACJ,EACE,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAAO,SAC5D,EACA,GACJ,CACA"}