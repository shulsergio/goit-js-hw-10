{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nconst btnStart = document.querySelector('[data-start]');\nlet fp = '';\nlet setTimerId = 0;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    timer(selectedDates[0]);\n  },\n};\n\nconst myInput = document.querySelector('#datetime-picker');\nconst timerHTML = document.querySelector('.timer');\nflatpickr(myInput, options);\nconsole.log(fp);\n// timer(fp);\n\nfunction timer(dateFromTimer) {\n  const currentData = new Date();\n  if (currentData > dateFromTimer) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please choose a date in the future',\n      color: '#ef4040',\n      messageColor: '#fff',\n      titleColor: '#fff',\n      iconColor: '#fff',\n      position: 'topRight',\n    });\n    return;\n  } else {\n    btnStart.removeAttribute('disabled');\n    btnStart.addEventListener('click', () => {\n      btnStart.setAttribute('disabled', 'true');\n      clearInterval(setTimerId);\n\n      setTimerId = setInterval(() => {\n        onTimer(dateFromTimer);\n      }, 1000);\n    });\n  }\n}\nfunction onTimer(futureDate) {\n  const currentData = new Date();\n  let xx = futureDate - currentData;\n  if (xx <= 0) {\n    clearInterval(setTimerId);\n  }\n  let day = 1000 * 60 * 60 * 24;\n  let hour = 1000 * 60 * 60;\n  let minutes = 1000 * 60;\n  let diffDay = String(Math.floor(xx / day));\n  let difHour = String(Math.floor((xx % day) / hour));\n  let difMin = String(Math.floor(((xx % day) % hour) / minutes));\n  let difSec = String(Math.floor((((xx % day) % hour) % minutes) / 1000));\n  document.querySelector('[data-days]').textContent = diffDay.padStart(2, '0');\n  document.querySelector('[data-hours]').textContent = difHour.padStart(2, '0');\n  document.querySelector('[data-minutes]').textContent = difMin.padStart(\n    2,\n    '0'\n  );\n  document.querySelector('[data-seconds]').textContent = difSec.padStart(\n    2,\n    '0'\n  );\n}"],"names":["btnStart","fp","setTimerId","options","selectedDates","timer","myInput","flatpickr","dateFromTimer","iziToast","onTimer","futureDate","xx","day","hour","minutes","diffDay","difHour","difMin","difSec"],"mappings":"0IAQA,MAAMA,EAAW,SAAS,cAAc,cAAc,EACtD,IAAIC,EAAK,GACLC,EAAa,EACjB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAMD,EAAc,CAAC,CAAC,CACvB,CACH,EAEME,EAAU,SAAS,cAAc,kBAAkB,EACvC,SAAS,cAAc,QAAQ,EACjDC,EAAUD,EAASH,CAAO,EAC1B,QAAQ,IAAIF,CAAE,EAGd,SAASI,EAAMG,EAAe,CAE5B,GADoB,IAAI,KACNA,EAAe,CAC/BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,MAAO,UACP,aAAc,OACd,WAAY,OACZ,UAAW,OACX,SAAU,UAChB,CAAK,EACD,MACJ,MACIT,EAAS,gBAAgB,UAAU,EACnCA,EAAS,iBAAiB,QAAS,IAAM,CACvCA,EAAS,aAAa,WAAY,MAAM,EACxC,cAAcE,CAAU,EAExBA,EAAa,YAAY,IAAM,CAC7BQ,EAAQF,CAAa,CACtB,EAAE,GAAI,CACb,CAAK,CAEL,CACA,SAASE,EAAQC,EAAY,CAE3B,IAAIC,EAAKD,EADW,IAAI,KAEpBC,GAAM,GACR,cAAcV,CAAU,EAE1B,IAAIW,EAAM,IAAO,GAAK,GAAK,GACvBC,EAAO,IAAO,GAAK,GACnBC,EAAU,IAAO,GACjBC,EAAU,OAAO,KAAK,MAAMJ,EAAKC,CAAG,CAAC,EACrCI,EAAU,OAAO,KAAK,MAAOL,EAAKC,EAAOC,CAAI,CAAC,EAC9CI,EAAS,OAAO,KAAK,MAAQN,EAAKC,EAAOC,EAAQC,CAAO,CAAC,EACzDI,EAAS,OAAO,KAAK,MAASP,EAAKC,EAAOC,EAAQC,EAAW,GAAI,CAAC,EACtE,SAAS,cAAc,aAAa,EAAE,YAAcC,EAAQ,SAAS,EAAG,GAAG,EAC3E,SAAS,cAAc,cAAc,EAAE,YAAcC,EAAQ,SAAS,EAAG,GAAG,EAC5E,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAAO,SAC5D,EACA,GACJ,EACE,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAAO,SAC5D,EACA,GACJ,CACA"}